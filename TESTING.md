# æµ‹è¯•å‘½ä»¤ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæµ‹è¯•ï¼š

```bash
# æ£€æŸ¥ Docker æ˜¯å¦è¿è¡Œ
pnpm docker:check

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# ç›‘å¬æ¨¡å¼ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰
pnpm test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pnpm test:coverage
```

## ğŸ“‹ å¯ç”¨å‘½ä»¤

### ä»æ ¹ç›®å½•è¿è¡Œï¼ˆæ¨èï¼‰

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `pnpm docker:check` | æ£€æŸ¥ Docker æ˜¯å¦è¿è¡Œ |
| `pnpm test` | è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆè‡ªåŠ¨æ£€æŸ¥ Dockerï¼‰ |
| `pnpm test:watch` | ç›‘å¬æ¨¡å¼ï¼Œæ–‡ä»¶å˜åŒ–è‡ªåŠ¨é‡æµ‹ |
| `pnpm test:coverage` | è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š |
| `pnpm test:verbose` | è¯¦ç»†è¾“å‡ºæ¨¡å¼ |
| `pnpm test:ci` | CI ç¯å¢ƒè¿è¡Œï¼ˆåŒ…å«è¦†ç›–ç‡ï¼‰ |
| `pnpm test:integration` | åªè¿è¡Œé›†æˆæµ‹è¯• |
| `pnpm test:e2e` | åªè¿è¡Œç«¯åˆ°ç«¯æµ‹è¯• |
| `pnpm test:setup` | è¿è¡Œæµ‹è¯•ç¯å¢ƒè®¾ç½®è„šæœ¬ |
| `pnpm test:cleanup` | æ¸…ç†æµ‹è¯•èµ„æº |

### ä» backend ç›®å½•è¿è¡Œ

```bash
cd backend

# æ‰€æœ‰æµ‹è¯•å‘½ä»¤éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ npm
npm test
npm run test:watch
npm run test:coverage
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **[å¿«é€Ÿå¼€å§‹æŒ‡å—](./backend/TESTING_QUICKSTART.md)** - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹
- **[å®Œæ•´æµ‹è¯•æŒ‡å—](./backend/TESTING_GUIDE.md)** - æ·±å…¥äº†è§£æµ‹è¯•æ¶æ„
- **[Docker æ£€æŸ¥æŒ‡å—](./backend/DOCKER_CHECK_GUIDE.md)** - Docker æ£€æŸ¥æœºåˆ¶è¯´æ˜
- **[æµ‹è¯•å¥—ä»¶è¯´æ˜](./backend/tests/README.md)** - æµ‹è¯•ä»£ç ç»“æ„å’Œ API

## âœ… æµ‹è¯•å‰æ£€æŸ¥

è¿è¡Œæµ‹è¯•å‰è¯·ç¡®ä¿ï¼š

1. âœ… **Docker æ­£åœ¨è¿è¡Œ**
   ```bash
   docker ps
   # æˆ–ä½¿ç”¨é¡¹ç›®æä¾›çš„æ£€æŸ¥å‘½ä»¤
   pnpm docker:check
   ```

2. âœ… **ä¾èµ–å·²å®‰è£…**
   ```bash
   pnpm install
   ```

3. âœ… **ç«¯å£æœªè¢«å ç”¨**
   - æµ‹è¯•ä½¿ç”¨ç«¯å£ 9001
   - æ£€æŸ¥ï¼š`lsof -i:9001`

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### å¼€å‘æ—¶ä½¿ç”¨

```bash
# å¯åŠ¨ç›‘å¬æ¨¡å¼
pnpm test:watch

# ä¿®æ”¹ä»£ç åä¼šè‡ªåŠ¨é‡æ–°è¿è¡Œç›¸å…³æµ‹è¯•
```

### æäº¤å‰æ£€æŸ¥

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# æŸ¥çœ‹è¦†ç›–ç‡
pnpm test:coverage
open backend/coverage/lcov-report/index.html
```

### CI/CD é›†æˆ

```bash
# CI ç¯å¢ƒè¿è¡Œ
pnpm test:ci
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. Docker æœªè¿è¡Œ

**é”™è¯¯ä¿¡æ¯**:
```
âŒ Docker daemon is not running
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# macOS
open -a Docker

# Linux
sudo systemctl start docker
```

### 2. ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**:
```
Error: Port 9001 is already in use
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i:9001

# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

### 3. æµ‹è¯•å®¹å™¨æ®‹ç•™

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…ç†æ‰€æœ‰æµ‹è¯•å®¹å™¨
pnpm test:cleanup

# æˆ–æ‰‹åŠ¨æ¸…ç†
docker rm -f $(docker ps -a --filter "name=test-" -q)
```

## ğŸ“Š æµ‹è¯•è¦†ç›–æƒ…å†µ

å½“å‰æµ‹è¯•è¦†ç›–ï¼š

- âœ… è®¤è¯å’Œæˆæƒ (15+ æµ‹è¯•ç”¨ä¾‹, ~90% è¦†ç›–)
- âœ… åº”ç”¨éƒ¨ç½² (10+ æµ‹è¯•ç”¨ä¾‹, ~85% è¦†ç›–)
- âœ… ç§˜é’¥ç®¡ç† (15+ æµ‹è¯•ç”¨ä¾‹, ~80% è¦†ç›–)
- ğŸ“ ç§˜é’¥æä¾›è€…ï¼ˆå¾…æ·»åŠ ï¼‰
- ğŸ“ åŸŸåç®¡ç†ï¼ˆå¾…æ·»åŠ ï¼‰
- ğŸ“ é•œåƒä»“åº“ï¼ˆå¾…æ·»åŠ ï¼‰

## ğŸ’¡ æç¤º

1. **ä½¿ç”¨ç›‘å¬æ¨¡å¼** - å¼€å‘æ—¶ä½¿ç”¨ `pnpm test:watch` æé«˜æ•ˆç‡
2. **å®šæœŸæŸ¥çœ‹è¦†ç›–ç‡** - ç¡®ä¿æ–°åŠŸèƒ½æœ‰æµ‹è¯•è¦†ç›–
3. **æ¸…ç†æµ‹è¯•èµ„æº** - æµ‹è¯•å¤±è´¥æ—¶å¯èƒ½éœ€è¦æ‰‹åŠ¨æ¸…ç†å®¹å™¨
4. **ä¿æŒæµ‹è¯•å¿«é€Ÿ** - å•ä¸ªæµ‹è¯•åº”åœ¨ 5 ç§’å†…å®Œæˆ

## ğŸš¦ æµ‹è¯•çŠ¶æ€æŒ‡ç¤º

æµ‹è¯•è¿è¡Œæ—¶çš„è¾“å‡ºè¯´æ˜ï¼š

```
âœ… Pass  - æµ‹è¯•é€šè¿‡
âŒ Fail  - æµ‹è¯•å¤±è´¥
â­ï¸  Skip  - æµ‹è¯•è·³è¿‡
ğŸƒ Running - æ­£åœ¨è¿è¡Œ
```

## ğŸ“ˆ ä¸‹ä¸€æ­¥

é˜…è¯»å®Œæ•´çš„æµ‹è¯•æ–‡æ¡£ä»¥äº†è§£æ›´å¤šï¼š

```bash
# æŸ¥çœ‹å¿«é€Ÿå¼€å§‹æŒ‡å—
cat backend/TESTING_QUICKSTART.md

# æŸ¥çœ‹å®Œæ•´æŒ‡å—
cat backend/TESTING_GUIDE.md

# æŸ¥çœ‹ Docker æ£€æŸ¥è¯´æ˜
cat backend/DOCKER_CHECK_GUIDE.md
```

---

**ç¥æµ‹è¯•æ„‰å¿«ï¼** ğŸ‰

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [å¸¸è§é—®é¢˜è§£ç­”](./backend/TESTING_QUICKSTART.md#å¸¸è§é—®é¢˜) æˆ–ç›¸å…³æ–‡æ¡£ã€‚

